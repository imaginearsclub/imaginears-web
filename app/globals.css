@import "tailwindcss";
@tailwind base;
@tailwind components;
@tailwind utilities;
@reference "tailwindcss";

/* ------------------------------ */
/* 🌟 Base Light & Dark Theme     */
/* ------------------------------ */
@layer base {
:root {
    --brand-start: #8ecfff;
    --brand-end: #5caeff;
    --brand-accent: #4c97ff;

    --text-light: black;      /* slate-900-ish */
    --text-dark:  #e5e7eb;      /* slate-200-ish */

    --bg-light: #f8fafc;        /* slate-50 */
    --bg-dark:  #0b1221;        /* deeper than slate-900 for richness */

    --card-light: rgba(255, 255, 255, 0.9);
    --card-dark:  rgba(10, 16, 28, 0.9);

    --border-light: rgba(203, 213, 225, 0.7);  /* slate-300 */
    --border-dark:  rgba(51, 65, 85, 0.7);     /* slate-700 */

    /* Safe spacing tokens (used by cards) */
    --card-pad: 1.125rem;         /* ~18px on mobile */
    --card-pad-md: 1.5rem;        /* ~24px on md+ */
    --card-radius: 1.25rem;       /* 20px default */
    --card-radius-lg: 1.375rem;   /* 22px hover polish */

    /* Subtle shadow tokens */
    --shadow-sm: 0 1px 2px rgba(15, 23, 42, 0.06);
    --shadow-md: 0 6px 18px rgba(15, 23, 42, 0.10);
    --shadow-lg: 0 10px 26px rgba(15, 23, 42, 0.12);
}

html { scroll-behavior: smooth; background: var(--bg-light); color: var(--text-light); transition: color .3s ease, background-color .3s ease; }

html.dark { color: var(--text-dark); background: var(--bg-dark); }

body {
    @apply font-sans antialiased;
    color: var(--text-light);
    background: var(--bg-light);
    transition: color .3s ease, background-color .3s ease;
}

.dark body {
    color: var(--text-dark);
    background: var(--bg-dark);
}
}

/* ------------------------------ */
/* ✨ Utilities                   */
/* ------------------------------ */

.container {
    @apply max-w-7xl mx-auto px-4 sm:px-6 lg:px-8;
}

/* Sidebar card padding adjustments */
aside .card, .card > .card-content {
    padding: 0; /* Sidebar handles its own padding */
}

/* Section striping (very subtle) */
.band:nth-child(even) { @apply bg-slate-50 dark:bg-slate-900/40; }
.band:nth-child(odd)  { @apply bg-transparent; }

/* Gradient button */
.btn-gradient {
    background: linear-gradient(135deg, var(--brand-start), var(--brand-end));
    color: white;
    @apply rounded-2xl font-semibold shadow-md transition-transform duration-300 ease-out
    hover:scale-[1.03] hover:shadow-lg focus:outline-none focus:ring-2
    focus:ring-[var(--brand-end)] focus:ring-offset-2;
}

/* Links */
a { @apply text-[var(--brand-accent)] transition-colors duration-200; }

/* Make long words wrap nicely in tight spaces */
.wrap-balance {
    overflow-wrap: anywhere;
    word-break: break-word;
    hyphens: auto;
}

/* ----------------------------------------------- */
/* 🔘 Buttons System                               */
/* ----------------------------------------------- */

:root {
    /* semantic tokens for buttons */
    --btn-bg: #0f172a;            /* neutral dark (slate-900) */
    --btn-fg: #ffffff;
    --btn-border: rgba(15,23,42,.15);

    --btn-muted-bg: #e2e8f0;      /* slate-200 */
    --btn-muted-fg: #0f172a;

    --btn-primary-bg: #4c97ff;
    --btn-primary-fg: #ffffff;
    --btn-primary-hover: #3d86ee;

    --btn-danger-bg: #ef4444;     /* red-500 */
    --btn-danger-hover: #dc2626;
    --btn-danger-fg: #ffffff;

    --btn-success-bg: #22c55e;    /* green-500 */
    --btn-success-hover: #16a34a;
    --btn-success-fg: #06220f;

    --btn-warning-bg: #f59e0b;    /* amber-500 */
    --btn-warning-hover: #d97706;
    --btn-warning-fg: #1f1500;

    --ring: var(--brand-end);
}

.dark {
    --btn-bg: #0b1221;            /* deeper neutral */
    --btn-fg: #e5e7eb;
    --btn-border: rgba(148,163,184,.2);

    --btn-muted-bg: #1f2937;      /* slate-800 */
    --btn-muted-fg: #e5e7eb;

    --btn-primary-bg: #5caeff;    /* brand */
    --btn-primary-hover: #4b9bf0;

    --btn-danger-fg: #ffecec;
    --btn-success-fg: #eafff1;
    --btn-warning-fg: #fff7e6;
}

/* ----------------------------------------------- */
/* 🔘 Enhanced Buttons System (better spacing)      */
/* ----------------------------------------------- */
.btn {
    @apply inline-flex items-center justify-center gap-2 select-none
    rounded-2xl font-semibold tracking-tight whitespace-nowrap
    transition-all duration-200 ease-out border shadow-sm;

    /* Adjusted spacing and font sizing for readability */
    font-size: 0.95rem;
    line-height: 1.4;
    padding: 0.65rem 1.25rem; /* was 0.5rem 1rem */
    background: var(--btn-bg);
    color: var(--btn-fg);
    border-color: var(--btn-border);
}

.btn:hover {
    @apply shadow-md;
    filter: brightness(1.04);
}

.btn:active {
    transform: translateY(0.5px);
}

.btn:focus-visible {
    outline: 2px solid var(--ring);
    outline-offset: 2px;
}

.btn:disabled,
.btn[aria-disabled="true"] {
    @apply opacity-60 cursor-not-allowed;
}

/* ✅ Better sizing variants */
.btn-xs {
    font-size: 0.8rem;
    padding: 0.4rem 0.75rem;
    border-radius: 0.625rem;
}
.btn-sm {
    font-size: 0.9rem;
    padding: 0.5rem 1rem;
    border-radius: 0.75rem;
}
.btn-lg {
    font-size: 1rem;
    padding: 0.85rem 1.5rem;
    border-radius: 1.25rem;
}
.btn-xl {
    font-size: 1.1rem;
    padding: 1rem 1.75rem;
    border-radius: 1.5rem;
}

/* ✅ Icon button alignment (centered perfectly) */
.btn-icon {
    @apply flex items-center justify-center;
    width: 2.5rem;
    height: 2.5rem;
    padding: 0;
    border-radius: 50%;
}
.btn-icon.btn-sm { width: 2rem; height: 2rem; }
.btn-icon.btn-lg { width: 3rem; height: 3rem; }
/* ✅ Block button (full width) */
.btn-block { width: 100%; }

/* ----------------------------------------------- */
/* 🎨 Variants                                     */
/* ----------------------------------------------- */
/* Primary (solid brand) */
.btn-primary {
    background: linear-gradient(135deg, var(--brand-start), var(--brand-end));
    color: #fff;
    border-color: transparent;
    box-shadow: 0 2px 6px rgba(92, 174, 255, 0.3);
}
.btn-primary:hover {
    filter: brightness(1.08);
    box-shadow: 0 4px 10px rgba(92, 174, 255, 0.45);
}

/* Muted / Secondary (neutral surface) */
.btn-muted {
    background: var(--btn-muted-bg);
    color: var(--btn-muted-fg);
    border-color: transparent;
}
.btn-muted:hover { filter: brightness(1.04); }

/* Outline */
.btn-outline {
    background: transparent;
    color: var(--text-light);
    border-color: rgba(148,163,184,.4);
}
.dark .btn-outline { color: var(--text-dark); }
.btn-outline:hover {
    background: rgba(148,163,184,.08);
}

/* Ghost (no border, soft hover) */
.btn-ghost {
    background: transparent;
    color: var(--text-light);
    border-color: transparent;
    box-shadow: none;
}
.dark .btn-ghost { color: var(--text-dark); }

.btn-ghost:hover {
    background: rgba(148,163,184,.08);
}

/* Semantic variants */
.btn-danger {
    background: var(--btn-danger-bg);
    color: var(--btn-danger-fg);
    border-color: transparent;
}
.btn-danger:hover { background: var(--btn-danger-hover); }

.btn-success {
    background: var(--btn-success-bg);
    color: var(--btn-success-fg);
    border-color: transparent;
}
.btn-success:hover { background: var(--btn-success-hover); }

.btn-warning {
    background: var(--btn-warning-bg);
    color: var(--btn-warning-fg);
    border-color: transparent;
}
.btn-warning:hover { background: var(--btn-warning-hover); }

/* Gradient (you already had this; keeping but harmonizing) */
.btn-gradient {
    background: linear-gradient(135deg, var(--brand-start), var(--brand-end));
    color: #fff;
    border: none;
    box-shadow: 0 3px 8px rgba(92, 174, 255, 0.35);
}
.btn-gradient:hover {
    transform: translateY(-1px) scale(1.03);
    box-shadow: 0 6px 14px rgba(92, 174, 255, 0.45);
}

/* Destructive outline (handy for table rows) */
.btn-outline-danger {
    background: transparent;
    color: var(--btn-danger-bg);
    border-color: rgba(239, 68, 68, .5);
}
.btn-outline-danger:hover {
    background: rgba(239, 68, 68, .08);
}

/* Link-style button (behaves like <a>) */
.btn-link {
    background: transparent;
    color: var(--brand-end);
    border: none;
    padding: 0;
    font-weight: 600;
}
.btn-link:hover {
    color: var(--brand-start);
    text-decoration: underline;
    text-underline-offset: 3px;
}

/* Icons inside buttons: keep spacing tidy */
.btn > .icon,
.btn > svg {
    @apply shrink-0;
}
.btn > .icon + span,
.btn > svg + span {
    @apply -mr-0.5;
}

/* Loading state (spinner) */
@keyframes spin {
    to { transform: rotate(360deg); }
}
.btn.is-loading {
    position: relative;
    pointer-events: none;
}
.btn.is-loading::after {
    content: "";
    width: 1rem; height: 1rem;
    border-radius: 9999px;
    border: 2px solid rgba(255,255,255,.6);
    border-top-color: rgba(255,255,255,1);
    animation: spin .6s linear infinite;
    position: absolute;
    right: 0.75rem;
    top: 50%;
    transform: translateY(-50%);
}
.btn.btn-outline.is-loading::after,
.btn.btn-ghost.is-loading::after,
.btn.btn-link.is-loading::after {
    /* darker spinner on light backgrounds */
    border-color: rgba(15,23,42,.4);
    border-top-color: rgba(15,23,42,.8);
}
.dark .btn.btn-outline.is-loading::after,
.dark .btn.btn-ghost.is-loading::after,
.dark .btn.btn-link.is-loading::after {
    border-color: rgba(226,232,240,.3);
    border-top-color: rgba(226,232,240,.9);
}

/* ----------------------------------------------- */
/* 🌀 Button groups & loading                      */
/* ----------------------------------------------- */
.btn-group {
    @apply inline-flex items-stretch gap-2;
}
.btn-group .btn:first-child { border-top-right-radius: 0; border-bottom-right-radius: 0; }
.btn-group .btn:last-child  { border-top-left-radius: 0; border-bottom-left-radius: 0; }

@keyframes spin { to { transform: rotate(360deg); } }

/* In cards or tight spaces, ensure buttons don't crowd edges */
.card .btn { @apply mt-2; }

/* ------------------------------ */
/* 🪄 Card styling (fixed edges)  */
/* ------------------------------ */
/* Goals:
   - Bigger default padding so text never bumps into rounded corners
   - Pseudo-element gradient border that never overlaps content
   - Soft lift/glow on hover without changing text color
*/

@layer components {
.card {
    position: relative;
    border-radius: var(--card-radius);
    background: var(--card-light);
    color: var(--text-light);
    border: 1px solid var(--border-light);
    box-shadow: var(--shadow-sm);
    transition: transform .25s ease, box-shadow .25s ease, background .25s ease, border-color .25s ease;

    /* Safe padding: larger on md+ screens */
    padding: var(--card-pad);
}

@media (min-width: 768px) {
    .card { padding: var(--card-pad-md); }
}

/* Dark mode base */
.dark .card {
    background: var(--card-dark);
    color: var(--text-dark);
    border-color: var(--border-dark);
    box-shadow: 0 1px 2px rgba(0,0,0,.12);
}

/* Gradient border (outside content via mask) */
.card::before {
    content: "";
    position: absolute;
    inset: 0;
    border-radius: inherit;
    padding: 1px; /* thickness of the border */
    background: linear-gradient(135deg, var(--brand-start), var(--brand-end));
    /* Create a 1px border overlay that doesn't cover padding/content */
    -webkit-mask:
            linear-gradient(#fff 0 0) content-box,
            linear-gradient(#fff 0 0);
    -webkit-mask-composite: xor;
    mask-composite: exclude;
    pointer-events: none;
    opacity: .0;
    transition: opacity .25s ease;
}

/* Content wrapper inside card for consistent interior rhythm */
.card > .card-content {
    @apply space-y-2;
}

/* Lift + glow on hover (no blue overlay) */
.card:hover {
    transform: translateY(-1px);
    box-shadow: var(--shadow-md);
    border-color: transparent;
}

.card:hover::before { opacity: .7; }

/* Slightly larger rounding on hover for a “polished” feel */
.card:hover { border-radius: var(--card-radius-lg); }

/* Optional compact modifier if needed in tables, etc. */
.card-compact {
    --card-pad: .75rem;
    --card-pad-md: 1rem;
}

/* Ensure images and media respect rounded corners visually */
.card img,
.card video,
.card canvas {
    border-radius: calc(var(--card-radius) - 4px);
}

/* When the card is inside a link wrapper, keep hover behavior predictable */
a:hover .card {
    background: inherit; /* no blue fill from link hover */
    color: inherit;
}
}

/* ------------------------------ */
/* 📝 Prose / Markdown styling    */
/* ------------------------------ */
.prose {
    @apply max-w-none leading-relaxed;
}

.prose h1, .prose h2, .prose h3 {
    @apply font-bold text-slate-800 dark:text-slate-100 tracking-tight;
    line-height: 1.2;
}
.prose :where(code):not(:where(pre code)) {
    background: var(--tw-prose-code-bg, rgba(148,163,184,.15));
    border-radius: .375rem;
    padding: .125rem .375rem;
}

.prose p {
    color: var(--text-light);
    line-height: 1.7;
}
.dark .prose p {
    color: var(--text-dark);
}

.prose a {
    @apply underline decoration-[var(--brand-end)] underline-offset-2 hover:decoration-[var(--brand-start)];
    color: var(--brand-accent);
}

.prose strong { @apply text-slate-900 dark:text-slate-100; }

.prose ul { @apply list-disc pl-6; }
.prose ol { @apply list-decimal pl-6; }

.prose blockquote {
    @apply border-l-4 pl-4 italic text-slate-600 dark:text-slate-300 border-[var(--brand-end)];
}

.prose code {
    @apply bg-slate-100 dark:bg-slate-800 rounded px-1 py-0.5 text-[0.925em];
    word-break: break-word;
}
.prose pre {
    @apply bg-slate-900 text-slate-100 dark:bg-slate-800 rounded-xl p-4 overflow-x-auto;
}

.prose table { @apply w-full border-collapse my-4 text-sm; }
.prose th, .prose td { @apply border border-slate-300 dark:border-slate-700 px-3 py-2; }
.prose th { @apply bg-slate-100 dark:bg-slate-800 font-semibold; }

/* ------------------------------ */
/* 🌗 Dark mode transitions       */
/* ------------------------------ */
* { transition: color .25s ease, background-color .25s ease, border-color .25s ease; }

/* Respect users that prefer reduced motion: minimize animations and smooth scroll */
@media (prefers-reduced-motion: reduce) {
  html { scroll-behavior: auto; }
  * {
    transition: none !important;
    animation-duration: 0.001ms !important;
    animation-iteration-count: 1 !important;
    scroll-behavior: auto !important;
  }
}

/* ------------------------------ */
/* 🧿 Subtle magical shimmer      */
/* (use on cards that need extra delight: add .shimmer) */
/* ------------------------------ */
.shimmer {
    position: relative;
    overflow: hidden;
}
.shimmer::after {
    content: "";
    position: absolute;
    inset: -150% -150% auto auto;
    width: 200%;
    height: 200%;
    background: radial-gradient(120px 60px at 30% 0%,
    rgba(255,255,255,0.22), rgba(255,255,255,0) 60%),
    linear-gradient(120deg,
            rgba(255,255,255,0) 40%,
            rgba(255,255,255,0.25) 50%,
            rgba(255,255,255,0) 60%);
    transform: translate3d(-60%, -60%, 0) rotate(8deg);
    opacity: 0;
    transition: opacity .35s ease, transform .8s ease;
    pointer-events: none;
}
.shimmer:hover::after {
    opacity: .9;
    transform: translate3d(15%, -10%, 0) rotate(8deg);
}

/* ------------------------------ */
/* 🖱️ Focus styles                */
/* ------------------------------ */
:focus-visible {
    outline: 2px solid var(--brand-end);
    outline-offset: 2px;
}

/* ------------------------------ */
/* 🖱️ Scrollbar (optional)        */
/* ------------------------------ */
::-webkit-scrollbar { width: 10px; height: 10px; }
::-webkit-scrollbar-track { background: rgba(0,0,0,0.05); }
::-webkit-scrollbar-thumb {
    background: linear-gradient(var(--brand-start), var(--brand-end));
    border-radius: 10px;
}
::-webkit-scrollbar-thumb:hover { filter: brightness(1.1); }

/* ----------------------------------------------- */
/* 🎵 Section header accent bar                    */
/* ----------------------------------------------- */

/* Applies to h2, h3, and any .section-title element */
h2,
h3,
.section-title {
    position: relative;
    display: inline-block;
    padding-bottom: 0.4rem;
    margin-bottom: 1rem;
    font-weight: 700;
    line-height: 1.2;
}

/* The magical accent line */
h2::after,
h3::after,
.section-title::after {
    content: "";
    position: absolute;
    left: 0;
    bottom: 0;
    height: 3px;
    width: 48px;
    border-radius: 4px;
    background: linear-gradient(90deg, var(--brand-start), var(--brand-end));
    transition: width 0.4s ease;
}

/* Hover animation for fun */
h2:hover::after,
h3:hover::after,
.section-title:hover::after {
    width: 64px;
}

/* Optional: in prose Markdown content, keep it consistent */
.prose h2::after,
.prose h3::after {
    height: 2px;
    width: 36px;
    border-radius: 2px;
}

/* For dark mode, the gradient glows softly */
.dark h2::after,
.dark h3::after,
.dark .section-title::after {
    box-shadow: 0 0 6px rgba(92, 174, 255, 0.4);
}

/* ----------------------------------------------- */
/* 🔘 Drawer System                               */
/* ----------------------------------------------- */
/* Drawer panel base text colors for dark mode */
aside[role="dialog"] {
    color: rgb(15 23 42); /* slate-900 */
}
.dark aside[role="dialog"]{
    color: rgb(241 245 249) /* slate-100 */
}

/* Ensure inputs in drawers keep contrast in darkm mode */
aside[role="dialog"] input,
aside[role="dialog"] textarea,
aside[role="dialog"] select {
    background-color: rgb(255 255 255);
    color: rgb(15 23 42);
}
.dark aside[role="dialog"] input,
.dark aside[role="dialog"] textarea,
.dark aside[role="dialog"] select {
    background-color: rgb(15 23 42);
    color: rgb(241 245 249);
}

/* Compact toolbar buttons */
.btn.btn-xs {
    padding: 0.25rem 0.5rem;
    border-radius: 0.625rem;
    font-size: 0.75rem;
    line-height: 1rem;
}

/* Ghost button look that works on both themes */
.btn-ghost {
    background: transparent;
    border: 1px solid transparent;
}
.btn-ghost:hover {
    background: rgba(148,163,184,0.15); /* slate-400/15 */
}
.dark .btn-ghost:hover {
    background: rgba(148,163,184,0.15);
}

/* Accessible skip link: hidden by default, visible when focused */
.skip-link {
  position: absolute;
  left: -999px;
  top: auto;
  width: 1px;
  height: 1px;
  overflow: hidden;
}
.skip-link:focus {
  left: 0.5rem;
  top: 0.5rem;
  width: auto;
  height: auto;
  padding: 0.5rem 0.75rem;
  background: #ffffff;
  color: #111827; /* slate-900 */
  border-radius: 0.375rem; /* rounded-md */
  box-shadow: 0 4px 8px rgba(0,0,0,0.2);
  z-index: 10000;
}


/* ----------------------------------------------- */
/* 📝 Text utilities                                */
/* ----------------------------------------------- */
.muted { @apply text-slate-600 dark:text-slate-400; }
.text-body { color: var(--text-light); }
.dark .text-body { color: var(--text-dark); }


@layer base {
  /* Base paragraph readability in both themes */
  p { 
    color: var(--text-light);
    line-height: 1.7;
  }
  .dark p {
    color: var(--text-dark);
  }
}
